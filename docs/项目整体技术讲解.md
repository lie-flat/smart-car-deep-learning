# 项目整体技术讲解

- 山东大学（威海）数科班 智能小车 暑期科研实训项目
- 讲解人： 任鹏飞
- 2022.8.27

## 作业要求

1. 在百度AI Studio上开设一个公开项目，训练一个基于飞桨的自动驾驶道路分割模型，需要尽可能使用多个公开数据集
2. 在百度AI Studio上开设一个公开项目，训练一个基于飞桨的交通标志检测+识别模型，需要尽可能使用多个公开数据集
3. 在小车上用Arduino或Micropython完成驱动开发，能实现小车控制板Wifi热点、小车拐弯、直线行走、倒车等动作，每个动作封装为一个函数。电脑连接小车控制板Wifi，通过上述动作函数及参数，实现键盘遥控小车行走
4. 在本人笔记本电脑上，配置好飞桨环境，把上述训练好的模型部署起来，可以用Web API的方式，或Socket直接连接的方式，连接小车控制板。通过获取小车摄像头照片，传入电脑中，用第一和第二部训练好的模型，为小车自动沿着道路行走、识别交通标志【识别不同的标志的时候，控制板上发出不同的蜂鸣声】提供算法服务，需参考matlab自动驾驶模块说明文档，调整摄像头参数，结合轮速计和IMU，结合阿克曼结构运动学模型，用飞桨实现第四部分自动驾驶（不能调用matlab相关函数）。

**第一，第二部分的讲解已经随附在对应的 AI Studio Notebook 中，此处不再重复讲解**

## 机械和电路结构

我们没有对小车拼装说明书上的底盘结构进行修改，只是修改了一下装饰性的上层积木.

![](../README.assets/IMG_20220826_190538.jpg)

我们拆去了上壳，这样更方便调试。另外，我们稍微变更了一下摄像头的位置。 值得一提的是，我们没有使用原装电池盒。原装电池盒质量有点差，经过一次 电量耗尽->充满电->电量耗尽 之后，原装电池盒就彻底寄了，就好像电池容量变成了 0 一样。于是我们购买了高品质的 2200mAh 倍量 7.4V 18650 锂电池组来给开发板供电，使用效果很好！（不是广告）

## 地图

![](../README.assets/IMG_20220826_190447.jpg)

因为在遇到分叉路口时算法会感到迷惑，不知道往那个方向走，所以我们补全了部分车道线。刚开始时，我们直接把多余的车道用白纸覆盖（图中右上角的一部分），后来我们发现只要把车道线补齐就可以，并没有必要将多余的车道部分用白纸覆盖。

## 开发环境

我本人在一台 Arch Linux 笔记本上完成了程序的开发。（I use Arch, BTW！）

您需要安装 Arduino IDE 和 VSCode 以及 Platform IO 插件来获得舒适的开发体验。

## 接下来

1. 小车服务端讲解
2. 小车客户端之手柄控制
3. 小车客户端之道路分割
4. 小车客户端之自动驾驶
5. 小车客户端之交通标志识别